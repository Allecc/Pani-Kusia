extends layout
block content
  .row(style='margin-top: 5%' ng-app='adminKusia' ng-controller='kusiaCtrl')
    ul.col-md-2
      li.btn.btn-default.col-md-12(ng-click='informationTab()') Dashboard
      li.btn.btn-default.col-md-12(ng-click='userTab()') Użytkownicy
      li.btn.btn-default.col-md-12(ng-click='productsTab()') Produkty
      li.btn.btn-default.col-md-12(ng-click='aboutTab()') O Mnie
      li.btn.btn-default.col-md-12 Kontakt
    .col-md-10
      .row
        .col-md-12(ng-show='tab.dashboard')
          h1.center Jakiś tekst informacyjny
        .col-md-12(ng-if='tab.users')
          ul
            li(repeat='user in users') {{user}}
        .col-md-12(ng-show='tab.products')
          .row
            .col-md-12 
              h3 Produkty
              hr
          .row
            button.btn.btn-default.col-md-6(data-toggle="modal" data-target="#modalAddProduct") Dodaj Produkt
            button.btn.btn-default.col-md-6(data-toggle="modal" data-target="#modalAddCategory") Dodaj Kategorię
          .row              
            .col-md-12
              .row(ng-repeat='category in categories')
                .col-md-12
                  .row
                    h3.col-md-10 {{category.name}}
                    button.col-md-2.btn.btn-default Edit
                    hr.col-md-12
                  .row
                    .well.col-md-4(ng-repeat='product in products | filter: { CategoryId: category.id }') 
                      strong {{product.title}}
                      p {{product.description}}
                      p {{product.image}}
                      .row
                        strong.col-md-6 Cena: {{product.price}}
                        strong.col-md-6 Kategoria: {{product.CategoryId}}
              .row
                .col-md-12
                  h3 Bez kategorii
                .row  
                  hr.col-md-12
                  .row
                    .well.col-md-4(ng-repeat='product in products | filter: { CategoryId: "!" }') 
                      strong {{product.title}}
                      p {{product.description}}
                      p {{product.image}}
                      .row
                        strong.col-md-6 Cena: {{product.price}}
                        strong.col-md-6 Kategoria: {{product.CategoryId}}
        .col-md-12(ng-show='tab.about')
          button.btn.btn-default(data-toggle="modal" data-target="#modalEditAbout") Edytuj
          h2 {{about.title}}
          p {{about.content}}
      // Modals here  
      #modalAddProduct.modal.fade(role='dialog')
        .modal-dialog.modal-lg
          // Modal content
          .modal-content
            .modal-title
              h2 Dodaj produkt
            form.modal-body              
              .form-group
                label Nazwa: 
                input.form-control(type='text', ng-model='newProduct.title')
              .form-group
                label Opis: 
                textarea.form-control(rows='2', ng-model='newProduct.description')   
              .form-group
                label Cena: 
                input.form-control(type='text', ng-model='newProduct.price')   
              .form-group
                label Zdjęcie: 
                input.form-control(type='text', ng-model='newProduct.image') 
              .form-group
                label Kategoria:
                ol
                  li(ng-repeat='category in categories')
                    input(type='radio', name='kategoria', ng-model='newProduct.CategoryId', value='{{category.id}}') 
                    span  {{category.name}}  
              pre.form-group {{newProduct}}              
            .modal-footer
              button.btn.btn-success(type='button', ng-click='addProduct()') Zapisz
              button.btn.btn-warning(type='reset') Wyczysc
              button.btn.btn-danger(type='button', data-dismiss='modal') Zamknij
      #modalAddCategory.modal.fade(role='dialog')
        .modal-dialog.modal-sm
          // Modal content
          .modal-content
            .modal-title
              h2 Dodaj kategorię
            form.modal-body              
              .form-group
                label Nazwa: 
                input.form-control(type='text', ng-model='newCategory.name')
              pre.form-group {{newCategory}}              
            .modal-footer
              button.btn.btn-success(type='button', ng-click='addCategory()') Zapisz
              button.btn.btn-warning(type='reset') Wyczysc
              button.btn.btn-danger(type='button', data-dismiss='modal') Zamknij  
      #modalEditAbout.modal.fade(role='dialog')
        .modal-dialog.modal-lg
          // Modal content
          .modal-content
            .modal-title
              h2 Edytuj 'About'
            form.modal-body              
              .form-group
                label Tytuł: 
                input.form-control(type='text', ng-model='about.title' ng-value='about.title')              
              .form-group
                label Informacje: 
                textarea.form-control(rows='3', ng-model='about.content' ng-value='about.content')  
              pre.form-group {{about}}              
            .modal-footer
              button.btn.btn-success(type='button', ng-click='editAbout()') Zapisz
              button.btn.btn-warning(type='reset') Wyczysc
              button.btn.btn-danger(type='button', data-dismiss='modal') Zamknij  

  script(src='../javascripts/admin.js')    
